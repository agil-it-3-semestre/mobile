<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/detalhes/1"></ion-back-button>
    </ion-buttons>
    <ion-title>Componentes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card class="ionCardProblema">
    <ion-grid>
      <ion-row>
        <ion-col size="2">
          Op.
        </ion-col>
        <ion-col size="10">
          Resumo do Problema
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="2">
          {{detalhesOperacao?.sequence}}
        </ion-col>
        <ion-col size="10">
          {{detalhesOperacao?.description}}
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <ion-card class="ionCardProblema">
    <ion-list>
      <ion-list *ngFor="let components of detalhesOperacao.components; let i = index" no-padding>
        <ion-button ion-item (click)="toggleSection(i)" detail-none [ngClass]="{'section-active': components.open, 'section': !components.open}">
          <ion-icon item-left name="arrow-forward" *ngIf="!components.open"></ion-icon>
          <ion-icon item-left name="arrow-down" *ngIf="components.open"></ion-icon>
          {{ components?.item.description}}
        </ion-button>

        <ion-list *ngIf="components.id && components.open">
          <ion-item *ngIf="!components.children" detail-none class="clid-item">
            <ion-list>
              <ion-item>
                <ion-label strong>Quantidade: {{components?.quantityItem}}</ion-label>
              </ion-item>
              <ion-item>
                <ion-label strong>Descrição: {{components?.item.description}}</ion-label>
              </ion-item>
              <ion-item no-lines>
                <ion-label strong>Unidade de Medida: {{components?.item.unitMeasurement.description}}</ion-label>
              </ion-item>
            </ion-list>
          </ion-item>
        </ion-list>
      </ion-list>
    </ion-list>


  </ion-card>
</ion-content>